# research_task:
#   description: >
#     Conduct a thorough research about {topic}
#     Make sure you find any interesting and relevant information given
#     the current year is {current_year}.
#   expected_output: >
#     A list with 10 bullet points of the most relevant information about {topic}
#   agent: researcher

# reporting_task:
#   description: >
#     Review the context you got and expand each topic into a full section for a report.
#     Make sure the report is detailed and contains any and all relevant information.
#   expected_output: >
#     A fully fledged report with the main topics, each with a full section of information.
#     Formatted as markdown without '```'
#   agent: reporting_analyst

query_products_task:
  description: >
    Use the Firebase Tool to query all products from the 'products' collection.
    To query all products, use these parameters:
    {
      "operation": "query",
      "collection": "products"
    }
    The query operation does not require document_id or data parameters.
    After getting the results:
    1. Format them in a readable way
    2. Report the total number of products found
    3. List all product details
  expected_output: >
    A detailed analysis of the queried products including:
    - Total count of products
    - List of all products with their details
    - Any insights about the product data
  agent: firebase_agent

recommend_products_task:
  description: >
    Given a `user_query` input (user needs or a question), analyze the query and return
    5 product recommendations from the `products` collection in Firebase.
    Steps:
      1. Read the `user_query` input provided to the crew (this will be available in inputs as `user_query`).
      2. Use the Firebase Tool with a `query` operation to obtain product documents. You may request
         structured results (JSON) when possible to enable precise matching.
      3. From the product fields (e.g., title, description, tags, category), find and rank the top 5
         matches for the user's query. Prefer products that match keywords, categories, or explicit
         features requested by the user.
      4. For each recommended product include: title, price (if available), short description, and why
         it was recommended (1-2 sentence rationale).
      5. If there are fewer than 5 good matches, return the top matches and indicate that fewer were found.
  expected_output: >
    A concise list of up to 5 recommended products, each with:
      - title
      - price (if available)
      - short description
      - short rationale for recommendation
    Also include the original `user_query` you used to generate recommendations.
  agent: firebase_agent


